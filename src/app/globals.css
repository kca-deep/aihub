@tailwind base;
@tailwind components;
@tailwind utilities;

/* Linear Design System - Global Styles */

@layer base {
  :root {
    /* CSS Variables for Linear Design System */
    --brand-primary: #3B82F6;
    --brand-primary-rgb: 59, 130, 246;
    --brand-primary-hex: #3B82F6;
    
    /* Background Colors */
    --background-primary: #08090A;
    --background-primary-rgb: 8, 9, 10;
    --background-secondary: #141516;
    --background-secondary-rgb: 20, 21, 22;
    --background-tertiary: #0F1011;
    --background-tertiary-rgb: 15, 16, 17;
    
    /* Surface Colors */
    --surface-primary: #141516;
    --surface-secondary: #282830;
    --surface-tertiary: #3E3E44;
    
    /* Text Colors */
    --text-primary: #F7F8F8;
    --text-primary-rgb: 247, 248, 248;
    --text-secondary: rgba(255, 255, 255, 0.7);
    --text-tertiary: #8A8F98;
    --text-tertiary-rgb: 138, 143, 152;
    --text-muted: #62626D;
    --text-muted-rgb: 98, 102, 109;
    
    /* Border Colors */
    --border-primary: rgba(255, 255, 255, 0.08);
    --border-secondary: #23252A;
    
    /* Neutral Colors */
    --neutral-white: #FFFFFF;
    --neutral-white-rgb: 255, 255, 255;
    --neutral-gray-100: #E6E6E6;
    --neutral-gray-200: #8A8F98;
    --neutral-gray-300: #62626D;
    --neutral-gray-400: #3E3E44;
    --neutral-gray-500: #282830;
    --neutral-gray-600: #141516;
    --neutral-gray-700: #0F1011;
    --neutral-gray-800: #08090A;
  }

  * {
    @apply border-border-primary;
  }

  body {
    @apply bg-background-primary text-text-primary font-primary;
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Ensure text is always visible during loading */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Selection styles */
  ::selection {
    @apply bg-brand-primary/20 text-text-primary;
  }

  /* Scrollbar styles */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-secondary;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-tertiary rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-text-tertiary;
  }

  /* Accessibility improvements */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Focus styles for better accessibility */
  .focus-visible {
    @apply outline-none ring-2 ring-brand-primary/50 ring-offset-2 ring-offset-background-primary;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    :root {
      --border-primary: rgba(255, 255, 255, 0.3);
      --text-secondary: rgba(255, 255, 255, 0.9);
    }
  }

  /* Print styles */
  @media print {
    * {
      background: transparent !important;
      color: black !important;
      box-shadow: none !important;
      text-shadow: none !important;
    }
  }
}

@layer components {
  /* Linear Design System Component Styles */
  
  /* Glass effect */
  .glass {
    @apply bg-surface-primary/50 backdrop-blur-md border border-border-primary/50;
  }

  /* Gradient overlays */
  .gradient-subtle {
    background: linear-gradient(rgba(255, 255, 255, 0.05), rgba(0, 0, 0, 0) 20%);
  }

  .gradient-glass {
    background: linear-gradient(134deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0) 55%);
  }

  .gradient-overlay {
    background: linear-gradient(rgba(255, 255, 255, 0.1) 40%, rgba(8, 9, 10, 0.1));
  }

  .gradient-fade {
    background: linear-gradient(to right, rgb(247, 248, 248), rgba(0, 0, 0, 0) 80%);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.2s ease-out;
  }

  /* Focus ring utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:ring-offset-2 focus:ring-offset-background-primary;
  }

  /* Interactive states */
  .interactive {
    @apply transition-all duration-200 hover:scale-105 active:scale-95;
  }

  /* Text utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-text-primary to-text-secondary bg-clip-text text-transparent;
  }

  .text-brand-gradient {
    @apply bg-gradient-to-r from-brand-primary to-brand-primary/80 bg-clip-text text-transparent;
  }

  /* Loading states */
  .loading {
    @apply animate-pulse bg-surface-secondary;
  }

  .loading-text {
    @apply animate-pulse bg-surface-secondary text-transparent;
  }

  /* Skeleton loading */
  .skeleton {
    @apply animate-pulse bg-surface-secondary rounded;
  }

  /* Disabled states */
  .disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
  }

  /* Error states */
  .error {
    @apply border-red-500 text-red-500;
  }

  .error-focus {
    @apply focus:ring-red-500/50 focus:border-red-500;
  }

  /* Success states */
  .success {
    @apply border-green-500 text-green-500;
  }

  .success-focus {
    @apply focus:ring-green-500/50 focus:border-green-500;
  }

  /* Warning states */
  .warning {
    @apply border-yellow-500 text-yellow-500;
  }

  .warning-focus {
    @apply focus:ring-yellow-500/50 focus:border-yellow-500;
  }
}

@layer utilities {
  /* Custom utilities for Linear Design System */
  
  /* Container utilities */
  .container-linear {
    @apply max-w-container mx-auto px-6;
  }

  /* Spacing utilities */
  .section-padding {
    @apply py-16 md:py-24;
  }

  /* Layout utilities */
  .header-height {
    height: 64px;
  }

  /* Border radius utilities */
  .rounded-button {
    border-radius: 8px;
  }

  .rounded-button-large {
    border-radius: 30px;
  }

  /* Shadow utilities */
  .shadow-linear-sm {
    box-shadow: rgba(0, 0, 0, 0) 0px 8px 2px 0px, rgba(0, 0, 0, 0.01) 0px 5px 2px 0px, rgba(0, 0, 0, 0.04) 0px 3px 2px 0px, rgba(0, 0, 0, 0.07) 0px 1px 1px 0px, rgba(0, 0, 0, 0.08) 0px 0px 1px 0px;
  }

  .shadow-linear-md {
    box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 16px;
  }

  .shadow-linear-lg {
    box-shadow: rgba(0, 0, 0, 0.2) 0px 8px 32px;
  }

  /* Performance utilities */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-opacity {
    will-change: opacity;
  }

  .gpu-accelerated {
    transform: translateZ(0);
  }

  /* Accessibility utilities */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-brand-primary text-white px-4 py-2 rounded z-50;
  }

  .live-region {
    @apply sr-only;
  }

  /* Print utilities */
  .print-hidden {
    @apply print:hidden;
  }

  .print-only {
    @apply hidden print:block;
  }

  /* High contrast utilities */
  .high-contrast {
    @apply border-2 border-current;
  }

  /* Reduced motion utilities */
  .motion-safe {
    @apply motion-reduce:animate-none;
  }

  .motion-reduce {
    @apply motion-reduce:transition-none motion-reduce:animate-none;
  }
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Performance optimizations */
@media (prefers-reduced-motion: no-preference) {
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.2s ease-out;
  }
}

/* Critical CSS for above-the-fold content */
.critical {
  content-visibility: auto;
  contain-intrinsic-size: 0 500px;
}

/* Optimize images */
img {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* Optimize fonts */
.font-primary {
  font-display: swap;
}

/* Optimize animations */
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-slide-up {
    animation: none;
  }
} 